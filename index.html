<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>WebAR QR Puzzle</title>
    <link rel="stylesheet" href="style.css" />
    <!-- A-Frame -->
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <!-- jsQR -->
    <script src="https://cdn.jsdelivr.net/npm/jsqr/dist/jsQR.js"></script>
  </head>
  <body>
    <h1>WebAR QR Puzzle</h1>
    <video id="video" autoplay></video>
    <canvas id="canvas" hidden></canvas>

    <!-- Puzzle UI -->
    <div id="puzzleArea"></div>

    <!-- Chest Scene -->
    <div id="chestArea">
      <a-scene embedded>
        <a-assets>
          <!-- Preload chest model -->
          <a-asset-item
            id="chestModel"
            src="./models/treasure_chest.glb"
          ></a-asset-item>
        </a-assets>

        <!-- Hidden until puzzle solved -->
        <a-entity
          id="chest"
          position="0 1 -3"
          rotation="0 45 0"
          visible="false"
        >
          <a-gltf-model src="#chestModel" scale="1 1 1"></a-gltf-model>
        </a-entity>
      </a-scene>
    </div>

    <script src="app.js"></script>
  </body>
</html>
